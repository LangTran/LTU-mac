%product LangTranUpdate for Mac OS X 10.4 and later,
%copyright 2019 Jim Henderson
%vendor Jim Henderson
%description Darwin version of LangTran software distribution system updater that uses rsync
%version 3.06
$MyName=LangTranUpdate.app
$MyScriptPath=Applications/LangTranUpdate_app/Contents/MacOS
$MyScript=LangTranUpdate.sh
$MyGroupName=langtran
$MySourceBase=./LangTranLocal
$MyDestFolder=/Users/Shared/LangTranLocal
# $LRun=LangTranUpdate.desktop
# $LBehaviour=LTbehaviour.desktop
# %arch all
%license ${MySourceFolder}/Progs/LICENSE.txt
%readme ${MySourceFolder}/Progs/README.txt
%preinstall <${MySourceFolder}/Progs/LT-setup.sh
%postinstall <${MySourceFolder}/Progs/set-permissions.sh

d 775 root ${MyGroupName} ${MyDestFolder} -
d 775 root ${MyGroupName} ${MyDestFolder}/Progs -
d 775 root ${MyGroupName} /Applications/${MyName}/ -

# f 775 root ${MyGroupName} /usr/share/applications ./*.desktop nostrip()
f 775 root ${MyGroupName} ${MyDestFolder} ./${MySourceBase}/Behaviour.sh nostrip()
f 775 root ${MyGroupName} $MyScriptPath/$MyScript ./${MySourceBase}/$MyScript nostrip()
f 664 root ${MyGroupName} ${MyDestFolder} ./${MySourceBase}/*.txt nostrip()
f 775 root ${MyGroupName} ${MyDestFolder}/Progs ./${MySourceFolder}/Progs/* nostrip()

