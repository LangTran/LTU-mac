%product LangTranUpdate for Mac OS X 10.4 and later,
%copyright 2019 Jim Henderson
%vendor Jim Henderson
%description Darwin version of LangTran software distribution system updater that uses rsync
%version 3.06
$MyName=LangTranUpdate.app
$MyScriptBase=/Applications/LangTranUpdate.app/Contents
$MyScriptSource=Applications/LangTranUpdate_app/Contents
$MyScript=LangTranUpdate.sh
$MyGroupName=langtran
$MySourceBase=LangTranLocal
$MyDataFolder=/Users/Shared/LangTranLocal
# $LRun=LangTranUpdate.desktop
# $LBehaviour=LTbehaviour.desktop
# %arch all
%license ${MySourceBase}/Progs/LICENSE.txt
%readme ${MySourceBase}/Progs/README.txt
%preinstall <${MySourceBase}/Progs/LT-setup.sh
%postinstall <${MySourceBase}/Progs/set-permissions.sh

d 775 root ${MyGroupName} ${MyDataFolder} -
d 775 root ${MyGroupName} ${MyDataFolder}/Progs -
d 775 root ${MyGroupName} /Applications/${MyName}/ -
d 775 root ${MyGroupName} $MyScriptBase -
d 775 root ${MyGroupName} $MyScriptBase/Resources -

# f 775 root ${MyGroupName} /usr/share/applications ./*.desktop nostrip()
f 775 root ${MyGroupName} $MyScriptBase/MacOS/$MyScript ${MyScriptSource}/MacOS/$MyScript nostrip()
f 775 root ${MyGroupName} $MyScriptBase/Resources ${MyScriptSource}/Resources/* nostrip()
f 775 root ${MyGroupName} $MyScriptBase/Info.plist ${MyScriptSource}/Info.plist  nostrip()
f 775 root ${MyGroupName} ${MyDataFolder}/Behaviour.sh ${MySourceBase}/Behaviour.sh nostrip()
f 664 root ${MyGroupName} ${MyDataFolder}/ ${MySourceBase}/*.txt nostrip()
f 775 root ${MyGroupName} ${MyDataFolder}/Progs ${MySourceBase}/Progs/* nostrip()

